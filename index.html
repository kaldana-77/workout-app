<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Daily Workout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="manifest.json" />
  <style>
    /* Your existing CSS stays the same. For brevity, it's not repeated here. */
    .exercise-name[title] {
      cursor: help;
      text-decoration: dotted underline;
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>My Daily Workout</h1>
      <p>Check off today’s lifts and track notes.</p>
      <div class="date-label" id="currentDateLabel"></div>
    </header>

    <div class="day-tabs" id="dayTabs"></div>

    <div class="card">
      <div class="workout-summary">
        <span id="currentDayLabel"></span>
        <span class="badge" id="completionBadge"></span>
      </div>
      <div id="exerciseList"></div>
      <button class="reset-btn" id="resetDayBtn" type="button">
        Reset this day’s progress
      </button>
      <button class="reset-btn" id="markCompleteBtn" type="button">
        Mark Day Complete
      </button>
    </div>

    <div class="footer-note">
      Tip: Edit exercises by updating <code>workouts.js</code>.
    </div>
  </div>

  <script>
    // Set today label
    const today = new Date();
    const todayDateStr = today.toISOString().slice(0, 10);
    const currentDateLabelEl = document.getElementById("currentDateLabel");
    currentDateLabelEl.textContent = today.toDateString();
    window.currentDay = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][today.getDay()];
  </script>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="workouts.js?v=1"></script>
  <script>
    // === App Renderer ===
    const dayTabsEl = document.getElementById("dayTabs");
    const currentDayLabelEl = document.getElementById("currentDayLabel");
    const exerciseListEl = document.getElementById("exerciseList");
    const badgeEl = document.getElementById("completionBadge");
    const resetDayBtn = document.getElementById("resetDayBtn");
    const markCompleteBtn = document.getElementById("markCompleteBtn");

    function renderDayTabs() {
      dayTabsEl.innerHTML = "";
      Object.keys(workoutPlan).forEach(day => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "day-tab" + (day === window.currentDay ? " active" : "");
        btn.textContent = day.slice(0, 3);
        btn.onclick = () => {
          window.currentDay = day;
          render();
        };
        dayTabsEl.appendChild(btn);
      });
    }

    function renderExercises() {
      const exercises = workoutPlan[window.currentDay] || [];
      exerciseListEl.innerHTML = "";
      let completed = 0;

      exercises.forEach((ex, i) => {
        const wrapper = document.createElement("div");
        wrapper.className = "exercise";

        const header = document.createElement("div");
        header.className = "exercise-header";

        const nameDiv = document.createElement("div");
        nameDiv.className = "exercise-name";
        nameDiv.textContent = ex.name;
        if (ex.description) nameDiv.title = ex.description;

        const infoDiv = document.createElement("div");
        infoDiv.className = "exercise-info";
        infoDiv.textContent = `${ex.sets} sets • ${ex.reps}`;

        header.appendChild(nameDiv);
        header.appendChild(infoDiv);

        wrapper.appendChild(header);
        exerciseListEl.appendChild(wrapper);
      });
    }

    function renderCompletionBadge() {
      const completed = getCompletedDays().includes(todayDateStr);
      badgeEl.className = "badge " + (completed ? "badge-complete" : "badge-incomplete");
      badgeEl.textContent = completed ? "Done for today ✔" : "Incomplete";
    }

    resetDayBtn.onclick = () => {
      localStorage.removeItem("completedDays");
      renderCompletionBadge();
    };

    markCompleteBtn.onclick = () => {
      markDayComplete(todayDateStr);
      renderCompletionBadge();
      showConfettiIfMonthComplete();
    };

    function render() {
      renderDayTabs();
      currentDayLabelEl.textContent = window.currentDay + " Workout";
      renderExercises();
      attachExerciseDescriptions();
      renderCompletionBadge();
    }

    render();
  </script>
</body>
</html>








